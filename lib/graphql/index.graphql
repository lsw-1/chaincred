fragment ListAttestation on Attestation {
  timeCreated
  id
  attester
  recipient
  data
}

query AllActionsReceived($id: String!) {
  attestations(
    where: {
      recipient: { equals: $id }
      AND: {
        schemaId: {
          equals: "0x82b6dfa1f89b37cffb75b5766fb10896d8fb0c196bb18b5cdbf44fef12606a96" # SCHEMA_ADRESS_ACTION
        }
      }
    }
  ) {
    ...ListAttestation
  }
}

query HomeFeed($id: String!) {
  attestations(
    orderBy: { timeCreated: asc }
    where: {
      OR: [{}, { recipient: { equals: $id } }]
      AND: {
        OR: [
          {
            schemaId: {
              equals: "0x82b6dfa1f89b37cffb75b5766fb10896d8fb0c196bb18b5cdbf44fef12606a96"
            }
          }
          {
            schemaId: {
              equals: "0xba299dc0f2f0caf692628b8bcb62037763e865804462c85b8adcf7ef7b8beb53"
            }
          }
        ]
      }
    }
  ) {
    ...ListAttestation
  }
}

query ActionsAndReviews($userAddress: String!, $profileAddress: String!) {
  actions: attestations(
    where: {
      recipient: { equals: $userAddress }
      AND: {
        schemaId: {
          equals: "0x82b6dfa1f89b37cffb75b5766fb10896d8fb0c196bb18b5cdbf44fef12606a96"
        }
      }
    }
  ) {
    ...ListAttestation
  }
  reviews: attestations(
    where: {
      recipient: { equals: $profileAddress }
      AND: {
        schemaId: {
          equals: "0xba299dc0f2f0caf692628b8bcb62037763e865804462c85b8adcf7ef7b8beb53"
        }
      }
    }
  ) {
    ...ListAttestation
  }
}

query Attestations($where: AttestationWhereInput!) {
  attestations(orderBy: { timeCreated: asc }, where: $where) {
    ...ListAttestation
  }
}
